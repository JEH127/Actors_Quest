<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Actors Quest</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <h1>Actors Quest</h1>
    <div id="search-container">
      <input
        type="text"
        id="search-input"
        placeholder="Rechercher un acteur..."
      />
      <button id="search-button">Rechercher</button>
    </div>
    <div id="container">
      <div id="results">
        Zone résultat : (en bleue) résultats des recherches
      </div>
      <div id="actor-info">
        Zone affichage : (en vert) affichage des informations de l’acteur
      </div>
    </div>

    <script>
      const apiKey = "2eff22e3f1a07ca35d7502a9fe94d56a"; // key API TMDb

      document
        .getElementById("search-button")
        .addEventListener("click", function () {
          const actorName = document.getElementById("search-input").value;
          fetch(
            `https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${actorName}`
          )
            .then((response) => response.json())
            .then((data) => {
              const resultsDiv = document.getElementById("results");
              resultsDiv.innerHTML = ""; // Effacer les résultats précédents
              data.results.forEach((actor) => {
                const actorDiv = document.createElement("div");
                actorDiv.classList.add("actor");
                const actorImage = actor.profile_path
                  ? `https://image.tmdb.org/t/p/w200${actor.profile_path}`
                  : "default-image.png"; // Image par défaut
                actorDiv.innerHTML = `
                  <img src="${actorImage}" alt="${actor.name}" />
                  <p>${actor.name}</p>
                `;
                resultsDiv.appendChild(actorDiv);
              });
            })
            .catch((error) => console.error("Erreur:", error));
        });
    </script>
  </body>
</html>
